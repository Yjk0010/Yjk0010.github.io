# 44 å˜æ€é¢˜

å½“åˆç¬”è€…åšè¿™å¥—é¢˜çš„æ—¶å€™ä¸ä»…æ€€ç–‘æ™ºå•†, è¿äººç”Ÿéƒ½å¼€å§‹æ€€ç–‘äº†....

ä¸è¿‡, å¯¹äºåŸºç¡€çŸ¥è¯†çš„ç†è§£æ˜¯æ·±å…¥ç¼–ç¨‹çš„å‰æ. è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹è¿™äº›å˜æ€é¢˜åˆ°åº•å˜æ€ä¸å˜æ€å§!

## ç¬¬ 1 é¢˜

```javascript
["1", "2", "3"].map(parseInt);
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip"> [1, NaN, NaN]</span>

[è§£æ ä¼ é€é—¨](/js/base/littleCase#_1-2-3-map-parseint)

## ç¬¬ 2 é¢˜

```javascript
[typeof null, null instanceof Object];
```

ä¸¤ä¸ªçŸ¥è¯†ç‚¹:

- [typeof](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof)
- [instanceof](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof)

typeof è¿”å›ä¸€ä¸ªè¡¨ç¤ºç±»å‹çš„å­—ç¬¦ä¸².  
[typeof ç»“æœåˆ—è¡¨](/js/base/dataType#typeof)  
instanceof è¿ç®—ç¬¦ç”¨æ¥æ£€æµ‹ constructor.prototype æ˜¯å¦å­˜åœ¨äºå‚æ•° object çš„åŸå‹é“¾ä¸Š.
[instanceof ç»“æœåˆ—è¡¨](/js/base/dataType#instanceof)

> `typeof null === 'object'` æ˜¯å› ä¸º`js`å­˜å‚¨å¯¹è±¡ï¼ˆäºŒè¿›åˆ¶ï¼‰çš„æ—¶å€™ä½¿ç”¨`000`æ¥å¼€å¤´ï¼Œä½†æ˜¯`null`çš„æ‰€æœ‰ä½éƒ½æ˜¯`0`æ‰€ä»¥`typeof`åˆ¤æ–­æ—¶å€™å°†å…¶åˆ¤æ–­æˆ `object`äº†

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip"> [object, false]</span>

## ç¬¬ 3 é¢˜

```javascript
[[3, 2, 1].reduce(Math.pow), [].reduce(Math.pow)];
```

çŸ¥è¯†ç‚¹:

- [Array/Reduce](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)

`arr.reduce(callback[, initialValue])`

reduce æ¥å—ä¸¤ä¸ªå‚æ•°, ä¸€ä¸ªå›è°ƒ, ä¸€ä¸ªåˆå§‹å€¼.

å›è°ƒå‡½æ•°æ¥å—å››ä¸ªå‚æ•° `previousValue, currentValue, currentIndex, array`

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š [TypeError](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#%E5%BC%82%E5%B8%B8)

æ‰€ä»¥ç¬¬äºŒä¸ªè¡¨è¾¾å¼ä¼šæŠ¥å¼‚å¸¸.  
ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ç­‰ä»·äº `Math.pow(3, 2) => 9; Math.pow(9, 1) =>9`

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-da">caught TypeError: Reduce of empty array with no initial value</span>

## ç¬¬ 4 é¢˜

```javascript
var val = "flag";
console.log("Value is " + (val === "flag") ? "Something" : "Nothing");
```

ä¸¤ä¸ªçŸ¥è¯†ç‚¹:

- [è¿ç®—ç¬¦ä¼˜å…ˆçº§](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)
- [æ¡ä»¶ï¼ˆä¸‰å…ƒï¼‰è¿ç®—ç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Conditional_Operator)

ç®€è€Œè¨€ä¹‹ `+` çš„ä¼˜å…ˆçº§ å¤§äº `?`

æ‰€ä»¥åŸé¢˜ç­‰ä»·äº `'Value is true' ? 'Something' : 'Nothing'`  
è€Œä¸æ˜¯ `'Value is' + (true ? 'Something' : 'Nothing')`

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">'Something'</span>

## ç¬¬ 5 é¢˜

```javascript
var name = "World!";
(function () {
  if (typeof name === "undefined") {
    var name = "Jack";
    console.log("Goodbye " + name);
  } else {
    console.log("Hello " + name);
  }
})();
```

è¿™ä¸ªç›¸å¯¹ç®€å•, ä¸€ä¸ªçŸ¥è¯†ç‚¹:

- [Hoistingï¼ˆå˜é‡æå‡ï¼‰](https://developer.mozilla.org/zh-CN/docs/Glossary/Hoisting)

åœ¨ JavaScript ä¸­ï¼Œ functions å’Œ variables ä¼šè¢«æå‡ã€‚  
å˜é‡æå‡æ˜¯ JavaScript å°†å£°æ˜ç§»è‡³ä½œç”¨åŸŸ scope (å…¨å±€åŸŸæˆ–è€…å½“å‰å‡½æ•°ä½œç”¨åŸŸ) é¡¶éƒ¨çš„è¡Œä¸ºã€‚

è¿™ä¸ªé¢˜ç›®ç›¸å½“äº

```javascript
var name = "World!";
(function () {
  var name;
  if (typeof name === "undefined") {
    name = "Jack";
    console.log("Goodbye " + name);
  } else {
    console.log("Hello " + name);
  }
})();
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">'Goodbye Jack'</span>

## ç¬¬ 6 é¢˜

```javascript
var END = Math.pow(2, 53);
var START = END - 100;
var count = 0;
for (var i = START; i <= END; i++) {
  count++;
}
console.log(count);
```

ä¸€ä¸ªçŸ¥è¯†ç‚¹:

- [Infinity](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Infinity)

åœ¨ JS é‡Œ, <span class="cor-tip">Math.pow(2, 53) == 9007199254740992</span> æ˜¯å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§å€¼. æœ€å¤§å€¼åŠ ä¸€è¿˜æ˜¯æœ€å¤§å€¼. æ‰€ä»¥å¾ªç¯ä¸ä¼šåœ.

> js ä¸­å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ä¸æ˜¯ 2 çš„ 53 æ¬¡æ–¹
>
> è€Œæ˜¯ <span class="cor-wa">Number.MAX_VALUE = 1.7976931348623157e+308</span>
>
> 2 çš„ 53 æ¬¡æ–¹ä¸æ˜¯ js èƒ½è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°è€Œåº”è¯¥æ˜¯èƒ½`æ­£ç¡®è®¡ç®—ä¸”ä¸å¤±ç²¾åº¦`çš„æœ€å¤§æ•´æ•°
>
> ä¹Ÿå°±æ˜¯ <span class="cor-tip">Number.MAX_SAFE_INTEGER + 1 = 9007199254740991 + 1</span>
> 9007199254740992 +1 è¿˜æ˜¯ 9007199254740992 ï¼Œè¿™å°±æ˜¯å› ä¸ºç²¾åº¦é—®é¢˜  
> å¦‚æœ 9007199254740992 + 11 æˆ–è€… 9007199254740992 + 111 çš„è¯ï¼Œå€¼æ˜¯ä¼šå‘ç”Ÿæ”¹å˜çš„ï¼Œåªæ˜¯è¿™æ—¶å€™è®¡ç®—çš„ç»“æœä¸æ˜¯æ­£ç¡®çš„å€¼ï¼Œå› ä¸ºç²¾åº¦ä¸¢å¤±ã€‚

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-da">æ­»å¾ªç¯</span>

## ç¬¬ 7 é¢˜

```javascript
var ary = [0, 1, 2];
ary[10] = 10;
ary.filter(function (x) {
  return x === undefined;
});
```

çœ‹ä¸€ç¯‡æ–‡ç« ç†è§£ç¨€ç–æ•°ç»„

- [è¯‘ JavaScript ä¸­çš„ç¨€ç–æ•°ç»„ä¸å¯†é›†æ•°ç»„](http://www.cnblogs.com/ziyunfei/archive/2012/09/16/2687165.html)
- [Array/filter](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Array.prototype.filter çš„ polyfill:

```javascript
if (!Array.prototype.filter) {
  Array.prototype.filter = function (fun /*, thisArg*/) {
    "use strict";

    if (this === void 0 || this === null) {
      throw new TypeError();
    }

    var t = Object(this);
    var len = t.length >>> 0;
    if (typeof fun !== "function") {
      throw new TypeError();
    }

    var res = [];
    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;
    for (var i = 0; i < len; i++) {
      if (i in t) {
        // æ³¨æ„è¿™é‡Œ!!!
        var val = t[i];
        if (fun.call(thisArg, val, i, t)) {
          res.push(val);
        }
      }
    }

    return res;
  };
}
```

æˆ‘ä»¬çœ‹åˆ°åœ¨è¿­ä»£è¿™ä¸ªæ•°ç»„çš„æ—¶å€™, é¦–å…ˆæ£€æŸ¥äº†è¿™ä¸ªç´¢å¼•å€¼æ˜¯ä¸æ˜¯æ•°ç»„çš„ä¸€ä¸ªå±æ€§, é‚£ä¹ˆæˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹.

```JavaScript
0 in ary; => true
3 in ary; => false
10 in ary; => true
```

ä¹Ÿå°±æ˜¯è¯´ ä» 3 - 9 éƒ½æ˜¯æ²¡æœ‰ <span class="cor-wa">åˆå§‹åŒ–</span> çš„<span class="cor-da">å‘</span>!, è¿™äº›ç´¢å¼•å¹¶ä¸å­˜åœ¨ä¸æ•°ç»„ä¸­. åœ¨ `array` çš„å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ˜¯ä¼šè·³è¿‡è¿™äº›<span class="cor-da">å‘</span>çš„.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[]</span>

## ç¬¬ 8 é¢˜

```JavaScript
var one   = 0.1
var two   = 0.2
var eight = 0.8
var six   = 0.6
[two - one == one, eight - six == two]
```

js ä½¿ç”¨çš„æ˜¯ [IEEE äºŒè¿›åˆ¶æµ®ç‚¹æ•°ç®—æœ¯æ ‡å‡†ï¼ˆIEEE 754ï¼‰](https://zh.wikipedia.org/wiki/IEEE_754)  
IEEE 754 æ ‡å‡†ä¸­çš„æµ®ç‚¹æ•°å¹¶ <span class="cor-da">ä¸èƒ½</span> ç²¾ç¡®åœ°è¡¨è¾¾å°æ•°

é‚£ä»€ä¹ˆæ—¶å€™ç²¾å‡†, ä»€ä¹ˆæ—¶å€™ä¸ç²¾å‡†å‘¢?

å…¶å®åœ¨ js ä¸­æœ‰ä¸€ä¸ªå¤æ‚çš„è¿ç®—è¿‡ç¨‹ ç®€å•è§£é‡Šçš„è¯å¯ä»¥è¿™æ ·

é¦–å…ˆç”¨åˆ°äº†è¿™ä¸ªæ–¹æ³• [toPrecision è¿”å›æ•°å€¼å¯¹è±¡çš„æŒ‡å®šç²¾åº¦å­—ç¬¦ä¸²](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision)

å…ˆçœ‹è¿™ä¸ªä»£ç 

::: details å‰ 17 ä¸ªå°æ•°ä½

<div v-for="(item,index) in 17">
  <span>({{index/10}}).toPrecision(24) = </span>
  <span>{{(index / 10).toPrecision(24)}}</span>
</div>
:::

ä»è¿™ä¸ªç»“æœçœ‹ `0 0.5 1 1.5` è¿™æ ·çš„æ•°æ®å­˜å‚¨æ˜¯ç²¾ç¡®çš„ æ‰€ä»¥

```javascript
0.2 + 0.3 === 0.5; // true
0.7 + 0.8 === 1.5; // true
```

ç„¶å `0.2 - 0.1`

```javascript
0.2 - 0.1 === 0.1; // true
```

> 0.1 åé¢æœ‰ä¸ª `5551115` å¤šå‡ºæ¥
>
> 0.2 åé¢æœ‰ä¸ª `11102230` å¤šå‡ºæ¥

é¦–å…ˆæŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ•°å€¼å…³ç³» 0.2 çš„**åå·®**æ­£å¥½æ˜¯ 0.1 çš„ä¸¤å€

è¿™å°±æœ‰æ„æ€äº†

é‚£æˆ‘ä»¬å°† 0.1 çš„ **åå·®å€¼** è®°ä½œ **+Ïƒ** `Ïƒ` è¯»ä½œ `sigma`  
é‚£ä¹ˆ 0.2 çš„ å°±æ˜¯ **+2Ïƒ**

`0.2 - 0.1` => **+2Ïƒ** - **+Ïƒ** ç­‰äº **+Ïƒ**

ä½†æ˜¯ js è§£é‡Šå™¨è®¤ä¸ºä¸€ä¸ª **+Ïƒ** å¿½ç•¥ä¸è®¡ å°±ç›¸ç­‰äº†

ç„¶å `0.2 + 0.1`

```javascript
0.2 + 0.1 === 0.3; // false
```

0.2 + 0.1 => **+2Ïƒ** + **+Ïƒ** ç­‰äº **+3Ïƒ**äº†ã€‚

js è§£é‡Šå™¨è®¤ä¸º **+3Ïƒ** å°±ä¸èƒ½å¿½ç•¥å…¶å­˜åœ¨äº†ï¼Œæ‰€ä»¥å°±ä¸ç›¸ç­‰äº†

åœ¨çœ‹ä¸€ä¸ªä¾‹å­ `0.2 + 0.3`

> `0.3` åœ¨æ•°å€¼ä¸Šçœ‹èµ·æ¥æ˜¯  
>  å°‘äº†ä¸€ä¸ª 0.3 - 0.299999999999999988897770 -> 11102230 è®°ä½œ **-2Ïƒ**

```javascript
0.2 + 0.3 === 0.5; // true
```

`0.2 + 0.3` => **+2Ïƒ** + **-2Ïƒ** æ­£å¥½æŠµæ¶ˆäº†

js è§£é‡Šå™¨è¿™æ—¶å€™å°±çˆ½äº† ç›´æ¥å°±ç›¸ç­‰äº†

ç„¶åå†çœ‹è¿™ä¸ª `0.1 + 0.2 + 0.6`

> `0.6` åœ¨æ•°å€¼ä¸Šçœ‹èµ·æ¥æ˜¯  
>  å°‘äº†ä¸€ä¸ª 0.6 - 0.599999999999999977795540 -> 22204460 è®°ä½œ **-4Ïƒ**

```javascript
0.1 + 0.2 + 0.6 === 0.9; // true
```

`0.1 + 0.2 + 0.6` => **+Ïƒ** + **+2Ïƒ** + **-4Ïƒ** = **+Ïƒ**

**+Ïƒ** å¿½ç•¥

å†åŠ 

```javascript
0.1 + 0.2 + 0.6 + 0.1 === 1.0; // true
```

`0.1 + 0.2 + 0.6 + 0.1` => **+Ïƒ** + **+2Ïƒ** + **-4Ïƒ** + **+Ïƒ** = 0

å½“å‡ºç° 0 æ—¶å€™ ç›´æ¥å°± å¹³äº†  
ä¹Ÿå°±æ˜¯è¯´ å¦‚æœå‡ºç° 1.4 + 0.1 è¿™æ ·çš„  
æŒ‰ç†è¯´ 1.4 åº”è¯¥è®°ä½œ **-8Ïƒ** åœ¨åŠ  **+Ïƒ** åº”è¯¥è¿˜æœ‰ **-7Ïƒ**
ä½†æ˜¯ js å¤„ç†äº†ä¹‹åå°±å¹³äº†

å› ä¸ºå‡ºç°äº† `0.5 1 1.5` è¿™æ ·çš„èƒ½ äºŒè¿›åˆ¶é™¤å°½çš„å­˜åœ¨

```javascript
0.1 + 0.2 + 0.6 + 0.1 + 0.1 === 1.1; // +Ïƒ true
0.1 + 0.2 + 0.6 + 0.1 + 0.1 + 1.1 === 1.2; // +2Ïƒ false
```

è¦çœ‹å“ªä¸ªæµ®ç‚¹æ•°æ˜¯å‡ ä¸ªåå·®è¿™ä¸ªä¸œè¥¿å’‹çœ‹å‘¢

å…¶å®ä½ çœ‹çœ‹ `0.1 0.2 0.8 1.6` ç„¶åå†çœ‹çœ‹ `0.3(0.2çš„åŸºå‹) 0.7(0.8çš„åŸºå‹)` å°±å¤§æ¦‚èƒ½æ˜ç™½ä¸€äº›äº†

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[true, false]</span>

## ç¬¬ 9 é¢˜

```JavaScript
function showCase(value) {
    switch(value) {
    case 'A':
        console.log('Case A');
        break;
    case 'B':
        console.log('Case B');
        break;
    case undefined:
        console.log('undefined');
        break;
    default:
        console.log('Do not know!');
    }
}
showCase(new String('A'));
```

ä¸¤ä¸ªçŸ¥è¯†ç‚¹:

- [switch](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/switch)
- [String](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String)

switch æ˜¯ä¸¥æ ¼æ¯”è¾ƒ ä¹Ÿå°±æ˜¯ `===`, String å®ä¾‹å’Œ å­—ç¬¦ä¸²ä¸ä¸€æ ·.

```JavaScript
var str = 'foo';
var obj = new String(str);

console.log(typeof str); // "string"
console.log(typeof obj);  // "object"
console.log(str === obj); // false
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">'Do not know!'</span>

## ç¬¬ 10 é¢˜

```JavaScript
function showCase2(value) {
    switch(value) {
    case 'A':
        console.log('Case A');
        break;
    case 'B':
        console.log('Case B');
        break;
    case undefined:
        console.log('undefined');
        break;
    default:
        console.log('Do not know!');
    }
}
showCase2(String('A'));
```

è¿˜æ˜¯åˆšæ‰çš„çŸ¥è¯†ç‚¹, åªä¸è¿‡ String ä¸ä»…æ˜¯ä¸ªæ„é€ å‡½æ•° ç›´æ¥è°ƒç”¨è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å“¦.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">'Case A'</span>

## ç¬¬ 11 é¢˜

```JavaScript
function isOdd(num) {
    return num % 2 == 1;
}
function isEven(num) {
    return num % 2 == 0;
}
function isSane(num) {
    return isEven(num) || isOdd(num);
}
var values = [7, 4, '13', -9, Infinity];
values.map(isSane);
```

ä¸€ä¸ªçŸ¥è¯†ç‚¹

- [Remainder](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder)

æ­¤é¢˜ç­‰ä»·äº

```JavaScript
7 % 2 => 1
4 % 2 => 0
'13' % 2 => 1
-9 % % 2 => -1
Infinity % 2 => NaN
```

éœ€è¦æ³¨æ„çš„æ˜¯ ä½™æ•°çš„æ­£è´Ÿå·éšç¬¬ä¸€ä¸ªæ“ä½œæ•°.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[true, true, true, false, false]</span>

## ç¬¬ 12 é¢˜

```JavaScript
parseInt(3, 8)
parseInt(3, 2)
parseInt(3, 0)
```

ç¬¬ä¸€é¢˜è®²è¿‡äº†

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">3, NaN, 3</span>

## ç¬¬ 13 é¢˜

```JavaScript
Array.isArray( Array.prototype )
```

ä¸€ä¸ªçŸ¥è¯†ç‚¹:

- [Array/prototype](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator)

ä¸€ä¸ªé²œä¸ºäººçŸ¥çš„å®äº‹: `Array.prototype => [xxxxx]`;

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">true</span>

## ç¬¬ 14 é¢˜

```JavaScript
var a = [0];
if ([0]) {
  console.log(a == true);
} else {
  console.log("wut");
}
```

æ¥ä¸ªåŒç­‰å·åˆ¤åˆ«
![image](../assets/44Q-1.jpg)

è§£æ:

- `Boolean([0]) === true`
- [0] == true

  - true è½¬æ¢ä¸ºæ•°å­— => 1
  - [0] è½¬åŒ–ä¸ºæ•°å­—å¤±è´¥, è½¬åŒ–ä¸ºå­—ç¬¦ä¸² '0', è½¬åŒ–æˆæ•°å­— => 0
  - 0 !== 1

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false</span>

## ç¬¬ 15 é¢˜

```JavaScript
[]==[]
```

[] æ˜¯ Object, ä¸¤ä¸ª Object ä¸ç›¸ç­‰

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false</span>

## ç¬¬ 16 é¢˜

```JavaScript
'5' + 3
'5' - 3
```

ä¸¤ä¸ªçŸ¥è¯†ç‚¹:

- [åŠ æ³•(+)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Addition)
- [å‡æ³•(-)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Subtraction)

`+` ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªæ•°çš„å’Œæˆ–è€…å­—ç¬¦ä¸²æ‹¼æ¥, `-`è¡¨ç¤ºä¸¤æ•°ä¹‹å·®.

è¯·çœ‹ä¾‹å­, ä½“ä¼šåŒºåˆ«:

```JavaScript
> '5' + 3
'53'
> 5 + '3'
'53'
> 5 - '3'
2
> '5' - 3
2
> '5' - '3'
2
```

ä¹Ÿå°±æ˜¯è¯´ `-` ä¼šå°½å¯èƒ½çš„å°†ä¸¤ä¸ªæ“ä½œæ•°å˜æˆæ•°å­—, è€Œ `+` å¦‚æœä¸¤è¾¹ä¸éƒ½æ˜¯æ•°å­—, é‚£ä¹ˆå°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">'53', 2</span>

## ç¬¬ 17 é¢˜

```JavaScript
1 + - + + + - + 1
```

è¿™é‡Œåº”è¯¥æ˜¯(å€’ç€çœ‹)

```JavaScript
1 + (a)  => 2
a = - (b) => 1
b = + (c) => -1
c = + (d) => -1
d = + (e) => -1
e = + (f) => -1
f = - (g) => -1
g = + 1   => 1
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">2</span>

## ç¬¬ 18 é¢˜

```JavaScript
var ary = Array(3);
ary[0]=2
ary.map(function(elem) { return '1'; });
```

ç¨€ç–æ•°ç»„. åŒç¬¬ 7 é¢˜.

é¢˜ç›®ä¸­çš„æ•°ç»„å…¶å®æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3, ä½†æ˜¯æ²¡æœ‰å†…å®¹çš„æ•°ç»„, array ä¸Šçš„æ“ä½œä¼šè·³è¿‡è¿™äº›æœªåˆå§‹åŒ–çš„'å‘'.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">["1", undefined Ã— 2]</span>

è¿™é‡Œè´´ä¸Š Array.prototype.map çš„ polyfill.

```JavaScript
Array.prototype.map = function(callback, thisArg) {

        var T, A, k;

        if (this == null) {
            throw new TypeError(' this is null or not defined');
        }

        var O = Object(this);
        var len = O.length >>> 0;
        if (typeof callback !== 'function') {
            throw new TypeError(callback + ' is not a function');
        }
        if (arguments.length > 1) {
            T = thisArg;
        }
        A = new Array(len);
        k = 0;
        while (k < len) {
            var kValue, mappedValue;
            if (k in O) {
                kValue = O[k];
                mappedValue = callback.call(T, kValue, k, O);
                A[k] = mappedValue;
            }
            k++;
        }
        return A;
    };
```

## ç¬¬ 19 é¢˜

```JavaScript
function sidEffecting(ary) {
  ary[0] = ary[2];
}
function bar(a,b,c) {
  c = 10
  sidEffecting(arguments);
  return a + b + c;
}
bar(1,1,1)
```

è¿™æ˜¯ä¸€ä¸ªå¤§å‘, å°¤å…¶æ˜¯æ¶‰åŠåˆ° ES6 è¯­æ³•çš„æ—¶å€™

çŸ¥è¯†ç‚¹:

- [Arguments å¯¹è±¡](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments)

arguments å¯¹è±¡æ˜¯æ‰€æœ‰ï¼ˆéç®­å¤´ï¼‰å‡½æ•°ä¸­éƒ½å¯ç”¨çš„å±€éƒ¨å˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡åœ¨å‡½æ•°ä¸­å¼•ç”¨å‡½æ•°çš„å‚æ•°ã€‚æ­¤å¯¹è±¡åŒ…å«ä¼ é€’ç»™å‡½æ•°çš„æ¯ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åœ¨ç´¢å¼• 0 å¤„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°ä¼ é€’äº†ä¸‰ä¸ªå‚æ•°

ä¹Ÿå°±æ˜¯è¯´ `arguments` æ˜¯ä¸€ä¸ª `object`, c å°±æ˜¯ arguments[2], æ‰€ä»¥å¯¹äº c çš„ä¿®æ”¹å°±æ˜¯å¯¹ arguments[2] çš„ä¿®æ”¹.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">21</span>

ç„¶è€Œ!!!!!!

å½“éä¸¥æ ¼æ¨¡å¼ä¸­çš„å‡½æ•°æœ‰åŒ…å«å‰©ä½™å‚æ•°ã€é»˜è®¤å‚æ•°å’Œè§£æ„èµ‹å€¼ï¼Œé‚£ä¹ˆ arguments å¯¹è±¡ä¸­çš„å€¼ä¸ä¼šè·Ÿè¸ªå‚æ•°çš„å€¼ï¼ˆåä¹‹äº¦ç„¶ï¼‰ã€‚

è¯·çœ‹:

```JavaScript
function sidEffecting(ary) {
  ary[0] = ary[2];
}
function bar(a,b,c=3) {
  c = 10
  sidEffecting(arguments);
  return a + b + c;
}
bar(1,1,1)
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">12</span> !!!!

è¯·è¯»è€…ç»†ç»†ä½“ä¼š!!

## ç¬¬ 20 é¢˜

```javascript
var a = 111111111111111110000,
  b = 1111;
a + b;
```

<span class="cor-wa">ç­”æ¡ˆ</span> è¿˜æ˜¯ <span class="cor-tip">111111111111111110000</span>

åŸå› æ˜¯ å› ä¸º <span class="cor-da">111111111111111110000 > Number.MAX_SAFE_INTEGER(9007199254740991)</span> äº† åœ¨è¿™ä¸ªç¨‹åº¦ä¸Šåœ¨åšè®¡ç®— ç²¾åº¦å·²ç»ä¸¢å¤±äº†æ‰€ä»¥è®¡ç®—å°±å·²ç»ä¸å‡†ç¡®äº†

è¯¦ç»†ä¸€äº›çš„åŸå› æ˜¯

```javascript
(111111111111111110000).toString(2).length; // 67
Number.MAX_SAFE_INTEGER.toString(2).length; // 53
(1111).toString(2).length; // 11
// æ­£å¸¸æƒ…å†µ53ä½ä»¥åå¾—æ•°æ®jsè§£é‡Šå™¨å·²ç»ä¸è®°å½•äº†
(67 - 53 = 14) > 11
// ç†è®ºä¸Š åœ¨14ä½(2è¿›åˆ¶) ä»¥å†…çš„æ•°æ® è·Ÿç¬¬ä¸€è¡Œåš+è¿ç®—éƒ½æ˜¯ä¼šè¢«èˆå¼ƒæ‰çš„
```

## ç¬¬ 21 é¢˜

```javascript
var x = [].reverse;
x();
```

è¿™ä¸ªé¢˜æœ‰æ„æ€!

çŸ¥è¯†ç‚¹:

- [Array.prototype.reverse](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse)

æ³¨æ„ `reverse æ–¹æ³•åè½¬æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®ï¼Œæ”¹å˜äº†æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„å¼•ç”¨ã€‚`

ä¹Ÿå°±æ˜¯è¯´ æœ€åä¼šè¿”å›è¿™ä¸ªè°ƒç”¨è€…(this), å¯æ˜¯ å½“ x æ‰§è¡Œçš„æ—¶å€™æ˜¯ä¸Šä¸‹æ–‡ä¸æ˜¯æ•°ç»„äº†è€Œæ˜¯æ˜¯å…¨å±€. é‚£ä¹ˆæœ€åè¿”å›çš„åº”è¯¥æ˜¯ `window`.

ä½†æ˜¯åœ¨æµè§ˆå™¨è°ƒç”¨çš„æ—¶å€™åº”è¯¥æ˜¯å¯¹ this åšäº†æ£€æŸ¥ æ¯•ç«Ÿ this ä¸æ˜¯æ•°ç»„çš„æ—¶å€™è±ªæ–¯ä¸èƒ½è°ƒç”¨ reverse æ–¹æ³•çš„

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-da">TypeError: Cannot convert undefined or null to object</span>

## ç¬¬ 22 é¢˜

```javascript
Number.MIN_VALUE > 0;
```

> MIN_VALUE å±æ€§æ˜¯ JavaScript ä¸­å¯è¡¨ç¤ºçš„æœ€å°çš„æ•°ï¼ˆæ¥è¿‘ 0 ï¼Œä½†ä¸æ˜¯è´Ÿæ•°ï¼‰ï¼Œå®ƒçš„è¿‘ä¼¼å€¼ä¸º 5 x 10-324ã€‚

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">true</span>

## ç¬¬ 23 é¢˜

```javascript
[1 < 2 < 3, 3 < 2 < 1];
```

è¿™ä¸ªé¢˜ä¹Ÿè¿˜å¯ä»¥.

è¿™ä¸ªé¢˜ä¼šè®©äººè¯¯ä»¥ä¸ºæ˜¯ `2 > 1 && 2 < 3` å…¶å®ä¸æ˜¯çš„.

è¿™ä¸ªé¢˜ç­‰ä»·äº

```javascript
 1 < 2 => true;
 true < 3 =>  1 < 3 => true;
 3 < 2 => false;
 false < 1 => 0 < 1 => true;
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[true, true]</span>

## ç¬¬ 24 é¢˜

```javascript
// the most classic wtf
2 == [[[2]]];
```

åŒç­‰å·çš„åˆ¤æ–­åŸºæœ¬ä¸ŠåŸºäºè¿™ä¸ªåŸåˆ™

1. ç­‰å·ä¸¤è¾¹`æ•°æ®ç±»å‹ç›¸åŒ`çš„æ—¶å€™æ¯”è¾ƒ <span class="cor-tip">å€¼</span>
2. ä¸¤ç«¯éƒ½æ˜¯`åŸå§‹æ•°æ®ç±»å‹`çš„æ—¶å€™ï¼Œ<span class="cor-tip">è½¬æ¢æˆæ•°å­—</span>æ¯”è¾ƒ
3. ä¸€ç«¯æ˜¯`åŸå§‹ç±»å‹`ä¸€ç«¯æ˜¯`å¯¹è±¡ç±»å‹`ï¼Œå°† <span class="cor-tip">å¯¹è±¡ç±»å‹è½¬æ¢æˆåŸå§‹æ•°æ®ç±»å‹</span> å†æ¯”è¾ƒ
4. `undefined` å’Œ `null` åªæœ‰è·Ÿè‡ªå·± æˆ–è€…ç›¸äº’æ¯”è¾ƒçš„æ—¶å€™æ‰æ˜¯ <span class="cor-tip">true</span> å…¶ä»–éƒ½æ˜¯ <span class="cor-da">false</span>
5. ä¸¤ç«¯åªè¦æœ‰ä¸€ç«¯å‡ºç° <span class="cor-wa">NaN</span> ä¸€å®šæ˜¯ <span class="cor-da">false</span>

è¿™è¾¹æ˜æ˜¾æ˜¯ é€‚ç”¨(3) å…ˆå°† `[[[2]]]`è½¬æ¢æˆåŸºç¡€æ•°æ®ç±»å‹ ä½¿ç”¨

```javascript
[[[2]]].valueOf(); // [Array(1)]
```

ç»“æœè¿˜æ˜¯å¼•ç”¨æ•°æ®ç±»å‹
é‚£å°±å†ä½¿ç”¨

```javascript
[[[2]]].toString(); // '2'
```

æ­¤æ—¶ä¸¤ç«¯å·²ç»è½¬æ¢æˆ <span class="cor-tip">2 == '2'</span> é€‚ç”¨(2) è½¬æ¢æˆæ•°å­—æ¯”è¾ƒ

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">true</span>

å†ä¸¾ä¸ªå°ä¾‹å­æ›´å¥½æ˜ç™½

```javascript
"1,2" == [1, 2]; // true
"1, 2" == [1, 2]; // false
```

## ç¬¬ 25 é¢˜

```javascript
3.toString()
3..toString()
3...toString()
```

è¿™ä¸ªé¢˜ä¹ŸæŒºé€—, <span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">error, '3', error</span>

ä½ å¦‚æœæ¢ä¸€ä¸ªå†™æ³•å°±å¥½ç†è§£

```javascript
var a = 3;
a.toString();
a..toString();
```

è¿™ä¸ª<span class="cor-wa">ç­”æ¡ˆ</span>æ˜¯ <span class="cor-tip">'3', error</span>

ä¸ºå•¥å‘¢?

å› ä¸ºåœ¨ js ä¸­ `1.1`, `1.`, `.1` éƒ½æ˜¯åˆæ³•çš„æ•°å­—. é‚£ä¹ˆåœ¨è§£æ `3.toString` çš„æ—¶å€™è¿™ä¸ª `.` åˆ°åº•æ˜¯å±äºè¿™ä¸ªæ•°å­—è¿˜æ˜¯å‡½æ•°è°ƒç”¨å‘¢? åªèƒ½æ˜¯æ•°å­—, å› ä¸º`3.`åˆæ³•å•Š!

## ç¬¬ 26 é¢˜

```javascript
(function () {
  var x = (y = 1);
})();
console.log(y);
console.log(x);
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">1</span> <span class="cor-da">ReferenceError: x is not defined</span>

y è¢«èµ‹å€¼åˆ°å…¨å±€. x æ˜¯å±€éƒ¨å˜é‡. æ‰€ä»¥æ‰“å° x çš„æ—¶å€™ä¼šæŠ¥ `ReferenceError`

## ç¬¬ 27 é¢˜

```javascript
var a = /123/,
  b = /123/;
[a == b, a === b];
```

å³ä½¿æ­£åˆ™çš„å­—é¢é‡ä¸€è‡´(ä½ å¯ä»¥ç†è§£ä»–ä»¬æ˜¯ä¸€ä¸ª /123/ çš„æ­£åˆ™å¯¹è±¡), ä»–ä»¬ä¹Ÿä¸ç›¸ç­‰.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[false, false]</span>

## ç¬¬ 28 é¢˜

```javascript
var a = [1, 2, 3],
  b = [1, 2, 3],
  c = [1, 2, 4];
[a == b, a === b, a > c, a < c];
```

`a == b` çš„åˆ¤æ–­ä» [ç¬¬äºŒåå››é¢˜](/js/AbnormalQ/44Q#ç¬¬-24-é¢˜)  
`a === b` === åˆ¤æ–­ä¸ç”¨è¯´ éƒ½æ˜¯å¯¹è±¡æ¯”è¾ƒå¼•ç”¨åœ°å€ ä¸ç›¸åŒ

åˆ¤æ–­ `a > c` å’Œ `a < c` æ—¶å€™è¦è½¬æ¢æˆåŸºç¡€æ•°æ®ç±»å‹

**a.valueOf() = [1, 2, 3]** ç»§ç»­ **a.toString() = "1,2,3"**  
**c.valueOf() = [1, 2, 4]** ç»§ç»­ **c.toString() = "1,2,4"**

å¾—åˆ°äº†åŸºç¡€æ•°æ®ä¹‹å ä¸¤ä¸ªå­—ç¬¦ä¸² "1,2,3" å’Œ "1,2,4"  
ä»–ä¿©æ¯”å¤§å°æ¯”çš„æ˜¯ <span class="cor-wa">å­—å…¸è¡¨é¡ºåº(ASCII ç è¡¨)</span> æ‰€ä»¥ <span class="cor-tip">'1,2,4' > '1,2,3' </span>

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[false, false, false, true]</span>

å†ä¸¾ä¸ªå¥½ç†è§£çš„ä¾‹å­

```javascript
({a:1}) > {b:2}  => false  // [!code --]
({a:1}) < {b:2}  => false  // [!code --]
({a:1}) == ({b:2})  => false  // [!code --]
({a:1}) >= ({b:2})  => true  // [!code ++]
({a:1}) <= ({b:2})  => true  // [!code ++]
```

å› ä¸º `{xxx}.toString() = '[object Object]'`

## ç¬¬ 29 é¢˜

```javascript
var a = {};
var b = Object.prototype;
[a.prototype === b, Object.getPrototypeOf(a) === b];
```

çŸ¥è¯†ç‚¹:

- [Object/getPrototypeOf](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf)

åªæœ‰ Function æ‹¥æœ‰ä¸€ä¸ª prototype çš„å±æ€§. æ‰€ä»¥ `a.prototype` ä¸º `undefined`.

è€Œ `Object.getPrototypeOf(obj)` è¿”å›ä¸€ä¸ªå…·ä½“å¯¹è±¡çš„åŸå‹(è¯¥å¯¹è±¡çš„å†…éƒ¨`[[prototype]]`å€¼)

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false, true</span>

## ç¬¬ 30 é¢˜

```javascript
function f() {}
var a = f.prototype;
var b = Object.getPrototypeOf(f);
a === b;
```

f.prototype æ˜¯ä½¿ç”¨ new åˆ›å»ºçš„ f å®ä¾‹çš„åŸå‹. è€Œ Object.getPrototypeOf æ˜¯ f å‡½æ•°çš„åŸå‹.

è¯·çœ‹:

```javascript
a === Object.getPrototypeOf(new f()); // true
b === Function.prototype; // true
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false</span>

## ç¬¬ 31 é¢˜

```javascript
function foo() {}
var oldName = foo.name;
foo.name = "bar";
[oldName, foo.name];
```

çŸ¥è¯†ç‚¹:

- [Function/name](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/name)

å› ä¸º**å‡½æ•°çš„åå­—ä¸å¯å˜**.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">['foo', 'foo']</span>

## ç¬¬ 32 é¢˜

```javascript
"1 2 3".replace(/\d/g, parseInt);
```

çŸ¥è¯†ç‚¹:

- [String/replace æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace#%E6%8F%8F%E8%BF%B0)

`str.replace(regexp|substr, newSubStr|function)`

å¦‚æœ replace å‡½æ•°ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°, é‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°†æ¥å—å¦‚ä¸‹å‚æ•°

- match é¦–å…ˆæ˜¯åŒ¹é…çš„å­—ç¬¦ä¸²
- p1, p2 .... ç„¶åæ˜¯æ­£åˆ™çš„åˆ†ç»„
- offset match åŒ¹é…çš„ index
- string æ•´ä¸ªå­—ç¬¦ä¸²

ç”±äºé¢˜ç›®ä¸­çš„æ­£åˆ™æ²¡æœ‰åˆ†ç»„, æ‰€ä»¥ç­‰ä»·äºé—®

```javascript
parseInt("1", 0);
parseInt("2", 2);
parseInt("3", 4);
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">1, NaN, 3</span>

## ç¬¬ 33 é¢˜

```javascript
function f() {}
var parent = Object.getPrototypeOf(f);
[
  f.name, // ?
  parent.name, // ?
  typeof eval(f.name), // ?
  typeof eval(parent.name), //  ?
];
```

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">['f', ' ', 'function', 'undefined']</span>

è¿™ä¸ª<span class="cor-wa">ç­”æ¡ˆ</span>å¹¶ä¸é‡è¦.....

è¿™é‡Œç¬¬ä¸€å°é—®å’Œç¬¬ä¸‰å°é—®å¾ˆç®€å•ä¸è§£é‡Šäº†.

è¿™é‡Œ é¦–å…ˆè¦çŸ¥é“ `parent === Function.prototype => true`

æ‰€ä»¥ `parent.name` æ˜¯ `' '`

`eval("") => undefined`

## ç¬¬ 34 é¢˜

```javascript
var lowerCaseOnly = /^[a-z]+$/;
[lowerCaseOnly.test(null), lowerCaseOnly.test()];
```

çŸ¥è¯†ç‚¹:

- [RegExp/test](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test)

è¿™é‡Œ test å‡½æ•°ä¼šå°†å‚æ•°è½¬ä¸ºå­—ç¬¦ä¸². `'nul'`, `'undefined'` éƒ½æ˜¯å°å†™äº†æ‰€ä»¥

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[true, true]</span>

## ç¬¬ 35 é¢˜

```javascript
[, , ,].join(", ");
```

`[,,,] => [undefined Ã— 3]`

å› ä¸º javascript åœ¨å®šä¹‰æ•°ç»„çš„æ—¶å€™å…è®¸æœ€åä¸€ä¸ªå…ƒç´ åè·Ÿä¸€ä¸ª`,`, æ‰€ä»¥è¿™æ˜¯ä¸ªé•¿åº¦ä¸ºä¸‰çš„ç¨€ç–æ•°ç»„(è¿™æ˜¯é•¿åº¦ä¸ºä¸‰, å¹¶æ²¡æœ‰ 0, 1, 2 ä¸‰ä¸ªå±æ€§å“¦)

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">", , "</span>

## ç¬¬ 36 é¢˜

```javascript
var a = { class: "Animal", name: "Fido" };
a.class;
```

è¿™ä¸ªé¢˜æ¯”è¾ƒæµæ°“.. å› ä¸ºæ˜¯æµè§ˆå™¨ç›¸å…³, `class`æ˜¯ä¸ªä¿ç•™å­—(ç°åœ¨æ˜¯ä¸ªå…³é”®å­—äº†)

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-in">ä¸é‡è¦</span>  
 é‡è¦çš„æ˜¯è‡ªå·±åœ¨å–å±æ€§åç§°çš„æ—¶å€™å°½é‡é¿å…ä¿ç•™å­—. å¦‚æœä½¿ç”¨çš„è¯è¯·åŠ å¼•å· `a['class']`

## ç¬¬ 37 é¢˜

```javascript
var a = new Date("epoch");
console.log(a);
```

çŸ¥è¯†ç‚¹:

- [Date](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date)
- [Date/parse](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/parse)

ç®€å•æ¥è¯´, å¦‚æœè°ƒç”¨ Date çš„æ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¯éœ€è¦ç¬¦åˆè§„èŒƒ, å³æ»¡è¶³ Date.parse çš„æ¡ä»¶.

å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ å¦‚æœæ ¼å¼é”™è¯¯ æ„é€ å‡½æ•°è¿”å›çš„ä»æ˜¯ä¸€ä¸ª Date çš„å®ä¾‹ `Invalid Date`.

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">Invalid Date</span>

## ç¬¬ 38 é¢˜

```javascript
var a = Function.length,
  b = new Function().length;
a === b;
```

æˆ‘ä»¬çŸ¥é“ä¸€ä¸ª `function(Function çš„å®ä¾‹)`çš„ `length` å±æ€§å°±æ˜¯å‡½æ•°ç­¾åçš„`å‚æ•°ä¸ªæ•°`

æ‰€ä»¥ b.length == 0.

å¦å¤– Function.length å®šä¹‰ä¸º ä» 1 å¼€å§‹è®¡æ•°

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false</span>

## ç¬¬ 39 é¢˜

```javascript
var a = Date(0);
var b = new Date(0);
var c = new Date();
[a === b, b === c, a === c];
```

è¿˜æ˜¯å…³äº Date çš„é¢˜, éœ€è¦æ³¨æ„çš„æ˜¯

- å¦‚æœä¸ä¼ å‚æ•°ç­‰ä»·äºå½“å‰æ—¶é—´.
- å¦‚æœæ˜¯å‡½æ•°è°ƒç”¨ è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸².

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false, false, false</span>

## ç¬¬ 40 é¢˜

```javascript
var min = Math.min(),
  max = Math.max();
min < max;
```

çŸ¥è¯†ç‚¹:

- [Math/min](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/min)
- [Math/max](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/max)

æœ‰è¶£çš„æ˜¯, Math.min ä¸ä¼ å‚æ•°è¿”å› `Infinity`, Math.max ä¸ä¼ å‚æ•°è¿”å› `-Infinity` ğŸ˜†

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">false</span>

## ç¬¬ 41 é¢˜

```javascript
function captureOne(re, str) {
  var match = re.exec(str);
  return match && match[1];
}
var numRe = /num=(\d+)/gi,
  wordRe = /word=(\w+)/i,
  a1 = captureOne(numRe, "num=1"),
  a2 = captureOne(wordRe, "word=1"),
  a3 = captureOne(numRe, "NUM=2"),
  a4 = captureOne(wordRe, "WORD=2");
[a1 === a2, a3 === a4];
```

çŸ¥è¯†ç‚¹:

- [RegExp/exec](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec)

é€šä¿—çš„è®²

å› ä¸ºç¬¬ä¸€ä¸ªæ­£åˆ™æœ‰ä¸€ä¸ª g é€‰é¡¹ å®ƒä¼šâ€˜è®°å¿†â€™ä»–æ‰€åŒ¹é…çš„å†…å®¹, ç­‰åŒ¹é…åä»–ä¼šä»ä¸Šæ¬¡åŒ¹é…çš„ç´¢å¼•ç»§ç»­, è€Œç¬¬äºŒä¸ªæ­£åˆ™ä¸ä¼š

ä¸¾ä¸ªä¾‹å­

```javascript
var myRe = /ab*/g;
var str = "abbcdefabh";
var myArray;
while ((myArray = myRe.exec(str)) !== null) {
  var msg = "Found " + myArray[0] + ". ";
  msg += "Next match starts at " + myRe.lastIndex;
  console.log(msg);
}
// Found abb. Next match starts at 3
// Found ab. Next match starts at 9
```

æ‰€ä»¥ a1 = '1'; a2 = '1'; a3 = null; a4 = '2'

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[true, false]</span>

## ç¬¬ 42 é¢˜

```javascript
var a = new Date("2023-05-08"),
  b = new Date(2023, 05, 08);
[a.getDay() === b.getDay(), a.getMonth() === b.getMonth()];
```

è¿™ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„åŸå› å°±æ˜¯æœˆä»½ä¸åŒå¯¼è‡´çš„  
å› ä¸ºæœˆä»½ç¼–å·æ˜¯ä» 0 å¼€å§‹çš„  
a æ˜¯ 2023 å¹´ 5 æœˆ 8 å·  
b æ˜¯ 2023 å¹´ 6 æœˆ 8 å·

- [getDay](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay) è·å–æ˜ŸæœŸå‡ 
- [getMonth](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getMonth) è·å–æœˆä»½

```javascript
a.getDay();
1;
b.getDay();
4;
a.getMonth();
4;
b.getMonth();
5;
```

éƒ½æ˜¯å¥—è·¯!

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">[false, false]</span>

## ç¬¬ 43 é¢˜

```javascript
if ("http://giftwrapped.com/picture.jpg".match(".gif")) {
  ("a gif file");
} else {
  ("not a gif file");
}
```

çŸ¥è¯†ç‚¹:

- [String/match](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match)

String.prototype.match æ¥å—ä¸€ä¸ªæ­£åˆ™, å¦‚æœä¸æ˜¯, æŒ‰ç…§ `new RegExp(obj)` è½¬åŒ–. æ‰€ä»¥ `.` å¹¶ä¸ä¼šè½¬ä¹‰ é‚£ä¹ˆ `/gif` å°±åŒ¹é…äº† /.gif/

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">'a gif file'</span>

## ç¬¬ 44 é¢˜

```javascript
function foo(a) {
  var a;
  return a;
}
function bar(a) {
  var a = "bye";
  return a;
}
[foo("hello"), bar("hello")];
```

åœ¨ä¸¤ä¸ªå‡½æ•°é‡Œ, a ä½œä¸ºå‚æ•°å…¶å®å·²ç»å£°æ˜äº†, æ‰€ä»¥ `var a; var a = 'bye'` å…¶å®å°±æ˜¯ `a; a ='bye'`

<span class="cor-wa">ç­”æ¡ˆ</span> <span class="cor-tip">['hello', 'bye']</span>

_EOF_
